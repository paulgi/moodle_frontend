<script>
	// PRODUCTION
	// loadCSS("https://cdn.rawgit.com/simondate/moodle_frontend/master/theme.css"); 
	// DEVELOPMENT
	//loadCSS("https://rawgit.com/simondate/moodle_frontend/master/theme.css");
	// LOCAL
	loadCSS("theme.css");

	function loadCSS(location){
		console.log('loading css');
		$("head").append("<link>");
		var css = $("head").children(":last");
		css.attr({
		      rel:  "stylesheet",
		      type: "text/css",
		   href: location
		});
	}
</script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headjs/1.0.3/head.core.min.js" type="text/javascript"></script>

<script>

	// enter the location of what you want to replace the logo with
	drawLogo("https://keats.kcl.ac.uk/pluginfile.php/2038040/mod_resource/content/3/hank.png");

	// enter the string you want it to contain and then the location of the image to replace with.
	// replaceFileIcons("hank","https://keats.kcl.ac.uk/pluginfile.php/2038040/mod_resource/content/3/hank.png");
	// replaceFileIcons("lesson", "https://rawgit.com/simondate/moodle_frontend/master/icons/iLesson.png");

	browserType();

	// run at start to ensure all accordions are consistently closed. Comment out both lines to remove
	closeOtherAccordions(this);
	$(document).on('click', 'ul.topics>li', function(){ closeOtherAccordions(this); });
    

function replaceFileIcons(name, location) {
	$(".activityinstance").each(function(index, value){
		var instanceName = $(value).eq(0).text();
		if(instanceName.indexOf(name) !== -1){
			var iconImage = $(this).find("img");
			$(iconImage.first().attr("src",location));
		}
	});
}

function closeOtherAccordions(context){
	console.log(context);
	$('ul.topics>li').each(function(index) {
		if(this != context) {
			$('.sectionopen').addClass('sectionclosed').removeClass('sectionopen');
			$('.toggle_open').addClass('toggle_closed').removeClass('toggle_open');
		}
	});
}

function browserType() {
	console.log(head.browser.chrome);
}

function drawLogo(location) {
	var logo = $(".logo").children();
	logo.attr("src", location);
	logo.css("width", 50).css("height", 50);
}
</script>
<script type="text/javascript" src="https://iddkingsonline.com/fancyapps/source/jquery.fancybox.js?v=2.1.5"></script>