<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headjs/1.0.3/head.core.min.js" type="text/javascript"></script>
<script type="text/javascript" src="https://iddkingsonline.com/fancyapps/source/jquery.fancybox.js?v=2.1.5"></script>
<script>
	// Load external CSS file into Keats.
	loadCSS("https://cdn.rawgit.com/simondate/moodle_frontend/master/theme.css");

	console.log(head.browser.chrome);

	// enter the location of what you want to replace the logo with3
	drawLogo("https://keats.kcl.ac.uk/pluginfile.php/2038040/mod_resource/content/3/hank.png");

	// enter the string you want it to contain and then the location of the image to replace with.
	replaceFileIcons("hank","https://keats.kcl.ac.uk/pluginfile.php/2038040/mod_resource/content/3/hank.png");

	updateHeader();


function replaceFileIcons(name, location) {
	$(".activityinstance").each(function(index, value){

		var instanceName = $(value).eq(0).text();
		console.log(instanceName);
		console.log("does it contain hank?", instanceName.indexOf(name) !== -1);
		if(instanceName.indexOf("Hank") !== -1){
			console.log("Adding hank");
			var iconImage = $(this).find("img");
			console.log(iconImage);
			$(iconImage.first().attr("src",location));
		}
	});
}

function UpdateHeader() {
	$("#page-header").css("background", "red");

	$(".navbar").append("<div class='my-first-div'>Welcome to King's Online.</div>");	
}

function drawLogo(location) {
	console.log('drawing hank in logo');
	var logo = $(".logo").children();
	logo.attr("src", location);
	logo.css("width", 50).css("height", 50);
}

function loadCSS(location){
	$("head").append("<link>");
	var css = $("head").children(":last");
	css.attr({
	      rel:  "stylesheet",
	      type: "text/css",
	   href: location
	});
}
</script>